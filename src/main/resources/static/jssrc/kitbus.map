{"version":3,"file":"kitbus.min.js","sources":["kitbus.js"],"names":["this","App","call","RideBusModel","__hasProp","hasOwnProperty","__extends","child","parent","ctor","constructor","key","prototype","__super__","_super","apply","arguments","departureTime","beforeAlert","Backbone","Model","rideBusModel","TimetableCollection","model","TimetableModel","Collection","timetableList","SHUTTLE_OUTWARD","SHUTTLE_HOMEWARD","building1","building74","building61","building65","setTime","shuttle","timeArray","AppView","dateFormat","getServiceDay","events","change input[name=\"shuttle\"]","initialize","initViewTmpl","_","template","$","html","initView","render","onChangeShuttle","shuttleChecked","val","reset","timetableArray","ajax","url","cache","dataType","then","_this","data","serviceDay","setTimetable","timetableData","timetable","_i","_j","_len","_len1","_ref","_ref1","outward","homeward","length","busStopTimeList","toLowerCase","push","View","targetDate","date","month","year","getFullYear","getMonth","getDate","servicetable","Date","serviceMap","getDay","RideBusView","rideBusView","el","TimetableListView","click tbody td","options","timetableTmpl","timetableHeaderOutwardTmpl","timetableHeaderHomewardTmpl","timetableRowOutwardTmpl","timetableRowHomewardTmpl","bindAll","collection","on","onReset","$tbody","$thead","$el","each","timetableModel","append","toJSON","onClickTime","e","$td","index","currentTarget","find","appView","timetableListView"],"mappings":"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"}